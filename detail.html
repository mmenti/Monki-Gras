<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0; }
      #map_canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?key=AIzaSyA54UXZOH7U97oLcfNML5lZ37eKubP1ntA&sensor=true">
    </script>
    <script type="text/javascript">
      function detectBrowser() {
        var useragent = navigator.userAgent;
        var mapdiv = document.getElementById("map_canvas");

        if (useragent.indexOf('iPhone') != -1 || useragent.indexOf('Android') != -1 ) {
          mapdiv.style.width = '100%';
          mapdiv.style.height = '25%';
        } else {
          mapdiv.style.width = '600px';
          mapdiv.style.height = '400px';
        }
      }
      function initialize() {
        detectBrowser();
        var myLatLon = new google.maps.LatLng({{escape(lat)}},{{escape(lon)}});
        var myOptions = {
          center: myLatLon,
          zoom: 16,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"),
            myOptions);
        var marker = new google.maps.Marker({
            position: myLatLon,
            title:"Your location"
        });
        marker.setMap(map);
      }
    </script>
  </head>
  <body onload="initialize()">
    <p style="text-align:center;">Your location:</p>
    <div id="map_canvas" style="width:40%; height:30%;margin:0px auto;"></div>

    <p style="text-align:center;">Venues:</p>
    <div id="4sq_venues" style="margin:0px auto;">
    <p style="text-align:center;">
      {% for xdata in data %}
          {{ xdata["beer_name"] }} <br/>
      {% end %}
    </p>
    </div>
  </body>
</html>
